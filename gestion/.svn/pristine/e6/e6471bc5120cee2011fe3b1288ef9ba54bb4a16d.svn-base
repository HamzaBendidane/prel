<?php

function administration_utilisateurs_liste_filtre_form($form, &$form_state) {
//   $form['rechercher'] = array(
//       '#type' => 'fieldset',
//       '#title' => ('Rechercher'),
//   );

  // Numéro de demande
  $form['rechercher']['numero_demande'] = array(
      '#type'     => 'textfield',
      '#title'    => t('N° d\'action'),
      '#default_value' => isset($_SESSION['administration_utilisateurs_filter']['numero_demande']) ?
          $_SESSION['administration_utilisateurs_filter']['numero_demande'] : '',
  );

  // Nom
  $form['rechercher']['nom'] = array(
      '#type'     => 'textfield',
      '#title'    => t('Nom'),
      '#default_value' => isset($_SESSION['administration_utilisateurs_filter']['nom']) ?
          $_SESSION['administration_utilisateurs_filter']['nom'] : '',
  );

  // Prénom
  $form['rechercher']['prenom'] = array(
      '#type'     => 'textfield',
      '#title'    => t('Prénom'),
      '#default_value' => isset($_SESSION['administration_utilisateurs_filter']['prenom']) ?
          $_SESSION['administration_utilisateurs_filter']['prenom'] : '',
  );

  // Email
  $form['rechercher']['email'] = array(
      '#type'     => 'textfield',
      '#title'    => t('Adresse email'),
      '#default_value' => isset($_SESSION['administration_utilisateurs_filter']['email']) ?
          $_SESSION['administration_utilisateurs_filter']['email'] : '',
  );

  // Numéro de siret
  $form['rechercher']['siret'] = array(
      '#type'     => 'textfield',
      '#title'    => t('N° siret'),
      '#default_value' => isset($_SESSION['administration_utilisateurs_filter']['siret']) ?
          $_SESSION['administration_utilisateurs_filter']['siret'] : '',
      '#field_suffix' => '<span class="spinner">&nbsp;</span>',
      '#attributes' => array('class' => array('siret-lenght')),
  );

  // OPtions pour les entreprises validés.
  $opts = array(
      '' => 'Tous',
      0 => 'Bloqué',
      1 => 'Validé',
  );

  // Numéro de siret
  $form['rechercher']['statut'] = array(
      '#type'     => 'select',
      '#title'    => t('Statut'),
      '#options'  => $opts,
      '#default_value' => isset($_SESSION['administration_utilisateurs_filter']['statut']) ?
          $_SESSION['administration_utilisateurs_filter']['statut'] : '',
  );

  $form['rechercher']['submit'] = array(
      '#type' => 'submit',
      '#value' => t('Rechercher'),
      '#attributes' => array(
          'class' => array('btn btn-success filter-btn'),
      ),
  );

  $form['rechercher']['reset'] = array(
      '#type' => 'submit',
      '#value' => t('Réinitialiser'),
      '#attributes' => array(
          'class' => array('btn btn-danger filter-btn'),
      ),
  );

  return $form;
}