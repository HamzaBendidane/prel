<?php

function ecofolio_menus_custom_node_view($node, $view_mode, $langcode) {
    if ($node->type == 'media') {
        $query_parameters = drupal_get_query_parameters();
        if (isset($query_parameters['mediathequePath'])) {
            menu_tree_set_path('menu-sidebar-main-menu', $query_parameters['mediathequePath']);
            menu_link_get_preferred($query_parameters['mediathequePath'], 'menu-sidebar-main-menu');
        } else {
            menu_tree_set_path('menu-sidebar-top-menu', 'mediatheque');
            menu_link_get_preferred('mediatheque', 'menu-sidebar-top-menu');
        }
    } else if ($node->type == 'actu') {
        menu_tree_set_path('menu-sidebar-top-menu', 'actualites');
    }
}

// function ecofolio_menus_custom_block_view_alter(&$data, $block) {
// 	if ($block->bid == 178 ) {
// 		if (preg_match('/^node\/[0-9]+$/', current_path())) {
// 			$node = node_load(arg(1));
// 			if ($node->type == 'home_univers') {
// 				$data['subject'] = $node->title;
				
// 			}
// 		}
// 	}
// }